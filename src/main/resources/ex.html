<html>
<head>
    <title>Cars</title>
</head>
<script>

    function submitForm() {
    let number = document.querySelector('#number');
    let brand = document.querySelector('#brand');
    let color = document.querySelector('#color');
    let year_of_issue = document.querySelector('#year_of_issue');
    let result = document.querySelector('.result');
    let xhr = new XMLHttpRequest();
    let url = 'http://localhost:8001/add';
    xhr.open("POST", url, true);
    xhr.setRequestHeader('Content-type', 'application/json;charset=UTF-8');
    var data = JSON.stringify({ "number": number.value, "brand": brand.value, "color":color.value, "year_of_issue":year_of_issue.value });
    xhr.onreadystatechange = function () {
        if (xhr.status === 200 & xhr.readyState == 4) {
            alert(this.responseText)
        }
    }
     xhr.send(data);
}


</script>
<body>
<div id="header">
    <h1>Cars catalog</h1>
    <p>
        <a href="http://localhost:8001/list">List all cars without parameters</a></p>
    <form action="http://localhost:8001/list" method="get">
        <p><b>List cars with additional parameters</b><Br>
        <p>Select an option to sort:<Br>
            <input type="radio" name="sort_parameter" value="id"> ID<Br>
            <input type="radio" name="sort_parameter" value="brand"> Car brand<Br>
            <input type="radio" name="sort_parameter" value="color"> Color<Br>
            <input type="radio" name="sort_parameter" value="number"> Number<Br>
            <input type="radio" name="sort_parameter" value="year_of_issue">Year of issue<Br>
        </p>
        <p><input type="number" name="limit">Number of displayed items<Br>
        <p><input type="number" name="offset">Initial element</p>
        <p><input type="submit" value="Submit"></p>
    </form>
    <p><b>Add car:</b><Br>
    </p>
    <p><input type="text" id="number" placeholder="Number"><Br>
    <p><input type="text" id="brand" placeholder="Brand"></p>
    <p><input type="text" id="color" placeholder="Color"></p>
    <p><input type="number" id="year_of_issue" placeholder="Year of issue"></p>
    <p>
        <button onclick="submitForm()"> Submit</button>
    </p>
    <p class="result" style="color:blue"></p>

    <form action="http://localhost:8001/delete" method="get">
        <p><b>Delete car:</b><Br>
        <p><input type="number" name="id">Car ID<Br>
        <p><input type="submit" value="Delete"></p>
    </form>

    <p>
        <a href="http://localhost:8001/stat">Show statistics on the cars database</a></p>
</div>
</body>
</html>